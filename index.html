<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bio-Trek</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet"/>
  
<style>
  :root {
    --card-img-h: 240px;
  }

  html,
  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    color: #f5f5f5;
    background:
      radial-gradient(circle at 20% 0%, rgba(76, 106, 187, 0.35), transparent 55%),
      radial-gradient(circle at 80% 10%, rgba(200, 70, 150, 0.25), transparent 60%),
      linear-gradient(to bottom, #0c1632 0%, #05091c 100%);
  }

  body.bio-open {
    background: linear-gradient(to bottom, #000019 0%, #000009 100%);
  }

  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: 0.28;
    background-image:
      radial-gradient(2px 2px at 10% 20%, #ffffff, transparent),
      radial-gradient(1.5px 1.5px at 40% 80%, #e0f0ff, transparent),
      radial-gradient(1.8px 1.8px at 80% 30%, #fffbe0, transparent);
  }

  header {
    position: relative;
    padding: 1rem 1rem 0.5rem;
    text-align: center;
    overflow: hidden;
  }

  header::after {
    content: "";
    position: absolute;
    inset: 0;
    margin: 0 auto;
    max-width: 820px;
    pointer-events: none;
    background:
      radial-gradient(circle at 50% 0%, rgba(0, 0, 0, 0.7), transparent 65%);
    opacity: 0.9;
    mix-blend-mode: normal;
  }

  header::before {
    content: "";
    position: absolute;
    inset: 10% 0 auto;
    margin: 0 auto;
    width: 280px;
    height: 420px;
    background:
      radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.15), transparent 55%),
      linear-gradient(150deg, rgba(255, 215, 0, 0.28), transparent 60%);
    clip-path: polygon(50% 0%, 80% 85%, 50% 100%, 20% 85%);
    opacity: 0.13;
    filter: blur(0.4px);
    pointer-events: none;
  }

  main {
    flex: 1;
    display: flex;
    justify-content: center;
    padding: 1.5rem 1rem 2.5rem;
  }

  .series-wrapper {
    width: 100%;
    max-width: 1400px;
    position: relative;
  }

  .title-main {
    font-family: "Orbitron", sans-serif;
    font-size: 38pt;
    margin: 0 0 0.3rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    background: linear-gradient(120deg, #fffef5, #ffe977, #ffcF2a);
    -webkit-background-clip: text;
    background-clip: text;
    color: #fff8d0;
    -webkit-text-stroke: 3px #000000;
    text-shadow:
      0 0 4px #000000,
      0 0 16px rgba(255, 235, 170, 1),
      0 0 34px rgba(255, 235, 170, 0.98),
      0 0 52px rgba(255, 235, 170, 0.8);
  }

  .subtitle-main {
    font-family: "Orbitron", sans-serif;
    font-size: 18pt;
    margin: 0;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: #ffd700;
    text-shadow:
      0 0 4px #000000,
      0 0 10px rgba(255, 215, 0, 0.7);
  }

  h1.title-main::after {
    content: "";
    display: block;
    width: 280px;
    height: 3px;
    margin: 14px auto 0;
    border-radius: 999px;
    background: linear-gradient(90deg, transparent, #f6e27a, #f2c14f, transparent);
    box-shadow: 0 0 12px rgba(242, 193, 79, 0.9);
  }

  .series-grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 140px;
  }

  .button-row {
    display: flex;
    gap: 2rem;
    justify-content: center;
    width: 100%;
    max-width: 1100px;
  }

  .button-row + .button-row {
    margin-top: 40px;
  }

  .series-btn {
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 1rem 1.5rem;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.45);
    font-size: 12pt;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    background-image: linear-gradient(145deg, #020b18 0%, #05304a 38%, #04719c 52%, #011522 100%);
    color: #f6e27a;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    background-color: rgba(10, 15, 40, 0.55);
    transform: perspective(600px) translateY(0);
    box-shadow:
      0 8px 0 #000000,
      0 22px 40px rgba(0, 0, 0, 0.98),
      inset 0 1px 0 rgba(255, 255, 255, 0.35),
      inset 0 -4px 14px rgba(0, 0, 0, 0.9);
    cursor: pointer;
    text-shadow:
      0 0 2px #000000,
      0 0 6px rgba(0, 0, 0, 0.9),
      0 0 10px rgba(255, 215, 0, 0.9);
    transition:
      transform 0.16s,
      box-shadow 0.16s,
      border-color 0.16s,
      background-image 0.16s;
  }

  .series-btn::before {
    content: "";
    position: absolute;
    left: 8px;
    top: 18%;
    bottom: 18%;
    width: 5px;
    border-radius: 999px;
    background: #ffd700;
  }
  .series-btn::after {
    content: "";
    position: absolute;
    inset: 0;
    top: 0;
    height: 40%;
    background: linear-gradient(
      to bottom,
      rgba(255,255,255,0.16),
      rgba(255,255,255,0.04),
      transparent 100%
    );
    mix-blend-mode: screen;
    pointer-events: none;
    transition: transform 0.35s ease-out, opacity 0.2s ease-out;
    transform: translateX(0);
    opacity: 0.85;
  }

  .series-btn:hover::after {
    transform: translateX(18%);
    opacity: 1;
  }

  .series-btn:hover::after {
    transform: translateX(16%);
  }

  .series-btn-placeholder::before {
    background: #ded8ab;
  }

  .series-btn[data-series="The Original Series"]::before {
    background: #8aaae5;
  }

  .series-btn[data-series="The Next Generation"]::before {
    background: #ffffff;
  }

  .series-btn[data-series="Deep Space Nine"]::before {
    background: #cc2c34;
  }

  .series-btn[data-series="Voyager"]::before {
    background: #218c4a; /* dark green */
  }

  .series-btn[data-series="Enterprise"]::before {
    background: #998209;
  }

  .series-btn[data-series="Discovery"]::before {
    background: #55b53b;
  }

  .series-btn[data-series="Picard"]::before {
    background: #ffff00;
  }

  .series-btn[data-series="Strange New Worlds"]::before {
    background: #89acd1;
  }

  .series-btn:hover {
    transform: perspective(600px) rotateX(3deg) rotateY(-3deg) translateY(-2px);
    box-shadow:
      0 6px 0 #000000,
      0 22px 40px rgba(0, 0, 0, 0.98),
      inset 0 0 0 1px rgba(255, 255, 255, 0.18),
      inset 0 0 28px rgba(255, 215, 0, 0.55);
    border-color: #ffd700;
  }

  .series-btn.active {
    border-color: #3dd8ff;
    box-shadow:
      0 6px 0 #000000,
      0 22px 40px rgba(0, 0, 0, 0.98),
      inset 0 0 0 1px rgba(61, 216, 255, 0.7),
      inset 0 0 24px rgba(61, 216, 255, 0.55);
  }

  .return-link {
    display: none;
    align-items: center;
    gap: 0.4rem;
    padding: 0.25rem 0.9rem;
    border-radius: 999px;
    background:
      radial-gradient(circle at 0 50%, rgba(61, 216, 255, 0.45), transparent 55%),
      linear-gradient(90deg, rgba(2, 6, 24, 0.99), rgba(7, 26, 68, 0.98));
    border: 1px solid rgba(61, 216, 255, 0.85);
    font-size: 0.78rem;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: #f6e27a;
    margin: 0 0 1rem;
    cursor: pointer;
  }

  .return-link::before {
    content: "⟵";
    font-size: 0.9rem;
  }

  .cards-grid {
    display: none;
    flex-direction: column;
    align-items: center;
    margin-top: 40px;
  }

  .cards-row {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
    width: 100%;
    max-width: 1100px;
  }

  .character-card {
    flex: 0 1 18%;
    max-width: 260px;
    padding: 1.5rem 1.75rem;
    border-radius: 22px;
    background-image: linear-gradient(145deg, #07152b 0%, #12527a 40%, #0a8cc0 100%);
    border: 1px solid rgba(255, 255, 255, 0.45);
    color: #f6e27a;
    font-size: 12pt;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    text-align: center;
    box-shadow:
      0 10px 0 #000000,
      0 26px 50px rgba(0, 0, 0, 1),
      inset 0 1px 0 rgba(255, 255, 255, 0.28),
      inset 0 -4px 14px rgba(0, 0, 0, 0.9);
    transition:
      transform 0.16s,
      box-shadow 0.16s,
      border-color 0.16s;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
    position: relative;
  }
  .character-card::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background:
      linear-gradient(
        to bottom,
        rgba(255,255,255,0.16) 0%,
        rgba(255,255,255,0.06) 18%,
        rgba(0,0,0,0.28) 55%,
        rgba(0,0,0,0.7) 100%
      );
    pointer-events: none;
  }


  .character-card::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: 34px;
    height: 34px;
    background: transparent;
    border-bottom-left-radius: 18px;
    box-shadow:
      -18px 18px 0 0 rgba(2, 6, 29, 1),
      -18px 18px 0 1px rgba(255, 215, 0, 0.3);
    opacity: 0.9;
    pointer-events: none;
  }

  .character-card:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow:
      0 6px 0 #000000,
      0 22px 40px rgba(0, 0, 0, 0.98),
      inset 0 0 0 1px rgba(255, 255, 255, 0.12),
      inset 0 -3px 12px rgba(0, 0, 0, 0.98);
  }

  .character-card > img {
    display: block;
    width: 100%;
    height: var(--card-img-h);
    object-fit: cover;
    border-radius: 10px;
    box-shadow:
      0 0 0 1px rgba(0,0,0,0.95),
      0 0 22px rgba(0,0,0,0.95),
      0 0 36px rgba(0,0,0,0.85);
  }


  .card-text {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-height: 72px;
    text-align: center;
    align-items: center;
    padding: 0.55rem 0.5rem;
    border-radius: 12px;
    background: #f5f6fb;
    box-shadow:
      0 0 0 1px rgba(0,0,0,0.35),
      0 3px 6px rgba(0,0,0,0.45);
    width: calc(100% + 12px);
    margin: 0 -6px;
  }

  .card-text a {
    text-decoration: none;
  }

  .card-text .character-name {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.45rem;
    color: #111827;
    font-weight: 800;
    font-size: 1.02rem;
  }

  .card-text .character-title {
    color: #ff9b1a;
    font-size: 0.95rem;
    margin: 0;
    -webkit-text-stroke: 0.4px #000000;
    text-shadow:
      0 0 1px #000000,
      0 0 2px rgba(0,0,0,0.7);
  }

  .card-text .character-actor {
    color: #064e3b;
    font-weight: 700;
    font-size: 0.9rem;
  }

  .series-non-tos .character-card.tos-only {
    display: none;
  }

  
  #bio-overlay {
    padding: 2rem 7.5rem;
    max-width: 1200px;
    margin: 50px auto;
    position: relative;
    border-radius: 18px;
    border: 1px solid rgba(61, 216, 255, 0.6);
    box-shadow:
      0 0 18px rgba(0,0,0,0.9),
      0 0 42px rgba(0,0,0,1);
    background: linear-gradient(to bottom, rgba(4, 10, 30, 0.96), rgba(1, 2, 8, 0.98));
  }
  #bio-overlay::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 18px;
    background-image: repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.04) 0px,
      rgba(255,255,255,0.04) 1px,
      transparent 2px,
      transparent 3px
    );
    opacity: 0.35;
    mix-blend-mode: soft-light;
    pointer-events: none;
  }

  #bio-overlay::after {
    content: "";
    position: absolute;
    inset: 6px;
    border-radius: 14px;
    box-shadow:
      0 0 10px rgba(61,216,255,0.8),
      0 0 24px rgba(242,193,79,0.55);
    opacity: 0.75;
    pointer-events: none;
  }


  #bio-overlay::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 18px;
    background-image: repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.04) 0px,
      rgba(255,255,255,0.04) 1px,
      transparent 2px,
      transparent 3px
    );
    opacity: 0.35;
    mix-blend-mode: soft-light;
    pointer-events: none;
  }

  #bio-overlay::after {
    content: "";
    position: absolute;
    inset: 6px;
    border-radius: 14px;
    box-shadow:
      0 0 8px rgba(61,216,255,0.6),
      0 0 18px rgba(242,193,79,0.45);
    opacity: 0.7;
    pointer-events: none;
  }


  .bio-header,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: gold;
    font-weight: 700;
  }
</style>

</head>
<body>
  <header>
    <h1 class="title-main">Bio Trek</h1>
    <h2 class="subtitle-main">Star Trek Biographies</h2>
  </header>
  <main>
    <div class="series-wrapper">
      <div id="return-menu" class="return-link">Return to Series Menu</div>

      <!-- MENU (8 buttons restored) -->
      <div class="series-grid">
        <div class="button-row">
          <button type="button" class="series-btn" data-series="The Original Series">The Original Series</button>
          <button type="button" class="series-btn" data-series="The Next Generation">The Next Generation</button>
          <button type="button" class="series-btn" data-series="Deep Space Nine">Deep Space Nine</button>
        </div>
        <div class="button-row">
          <button type="button" class="series-btn" data-series="Voyager">Voyager</button>
          <button type="button" class="series-btn" data-series="Enterprise">Enterprise</button>
          <button type="button" class="series-btn" data-series="Discovery">DIS - Coming Soon</button>
        </div>
        <div class="button-row">
          <button type="button" class="series-btn" data-series="Picard">PIC - Coming Soon</button>
          <button type="button" class="series-btn" data-series="Strange New Worlds">Strange New Worlds</button>
                    <button type="button" class="series-btn" data-series="Guest List">Guest List</button>
        </div>
      </div>

      <!-- CARDS GRID (top-3 placeholders + static TOS extras) -->
      <div class="cards-grid">
        <div class="cards-row">
          <article class="character-card" id="card-1">
            <img id="card-1-img" alt=""/>
            <div id="card-1-text" class="card-text"></div>
          </article>
          <article class="character-card" id="card-2">
            <img id="card-2-img" alt=""/>
            <div id="card-2-text" class="card-text"></div>
          </article>
          <article class="character-card" id="card-3">
            <img id="card-3-img" alt=""/>
            <div id="card-3-text" class="card-text"></div>
          </article>

          <!-- TOS static extras (unchanged) -->
          <article class="character-card tos-only">
            <img alt="Montgomery Scott (TOS)" src="https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Scotty%20(TOS).png"/>
            <div class="card-text">
              <a class="character-name" href="#">Montgomery Scott</a>
              <p class="character-title">Chief Engineer</p>
              <a class="character-actor" href="#">James Doohan</a>
            </div>
          </article>
          <article class="character-card tos-only">
            <img alt="Nyota Uhura (TOS)" src="https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Uhura%20(TOS).png"/>
            <div class="card-text">
              <a class="character-name" href="#">Nyota Uhura</a>
              <p class="character-title">Communications Officer</p>
              <a class="character-actor" href="#">Nichelle Nichols</a>
            </div>
          </article>
          <article class="character-card tos-only">
            <img alt="Hikaru Sulu (TOS)" src="https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Sulu%20(TOS).png"/>
            <div class="card-text">
              <a class="character-name" href="#">Hikaru Sulu</a>
              <p class="character-title">Helmsman</p>
              <a class="character-actor" href="#">George Takei</a>
            </div>
          </article>
          <article class="character-card tos-only">
            <img alt="Pavel Chekov (TOS)" src="https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Chekov%20(TOS).png"/>
            <div class="card-text">
              <a class="character-name" href="#">Pavel Chekov</a>
              <p class="character-title">Navigator</p>
              <a class="character-actor" href="#">Walter Koenig</a>
            </div>
          </article>
          <article class="character-card tos-only">
            <img alt="Yeoman Janice Rand (TOS)" src="https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Yeoman%20Rand%20(TOS).png"/>
            <div class="card-text">
              <a class="character-name" href="#">Yeoman Janice Rand</a>
              <p class="character-title">Yeoman</p>
              <a class="character-actor" href="#">Grace Lee Whitney</a>
            </div>
          </article>
          <article class="character-card tos-only">
            <img alt="Nurse Christine Chapel (TOS)" src="https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Christine%20Chapel%20(TOS).png"/>
            <div class="card-text">
              <a class="character-name" href="#">Nurse Christine Chapel</a>
              <p class="character-title">Nurse</p>
              <a class="character-actor" href="#">Majel Barett Roddenberry</a>
            </div>
          </article>
        </div>
      </div>
    </div>
  </main>

  <!-- BIO OVERLAY AREA (non-destructive) -->
  <div id="bio-overlay" style="display:none; padding:2rem 7.5rem; max-width:1200px; margin:50px auto;"></div>

  <script type="module">
    // ===== Helpers =====
    const $  = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => r.querySelectorAll(s);

    const titleEl = $(".title-main");
    const subtitleEl = $(".subtitle-main");
    const seriesMenu = $(".series-grid");
    const cardsGrid  = $(".cards-grid");
    const returnMenu = $("#return-menu");
    const bioOverlay = $("#bio-overlay");

    function esc(s){ return String(s).replace(/[&<>]/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;'}[m])); }
    function simpleNorm(s){ return String(s||'').toLowerCase().normalize('NFKD').replace(/[\\u0300-\\u036f]/g,'').replace(/['’`\\.\\-]/g,'').replace(/\\s+/g,'').trim(); }

    // ===== Data (cards) =====
    const SERIES = {
      TOS: [
        { name:"James T. Kirk", role:"Captain",            actor:"William Shatner", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/James%20Kirk%20(TOS).png" },
        { name:"Spock",         role:"Lt. Commander",      actor:"Leonard Nimoy",   img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Spock%20(TOS).png" },
        { name:"Leonard (Bones) McCoy", role:"Doctor",     actor:"DeForest Kelley", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Doctor%20McCoy%20(TOS).png" }
      ],
      TNG: [
        { name:"Jean-Luc Picard",    role:"Captain",             actor:"Patrick Stewart",        img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Jean-Luc%20Picard%20(TNG).png" },
        { name:"William T. Riker",   role:"First Officer",       actor:"Jonathan Frakes",        img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/William%20T%20Riker%20(TNG).png" },
        { name:"Data",               role:"Operations",          actor:"Brent Spiner",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Data%20(TNG).png" },
        { name:"Reginald Barclay",   role:"Engineer",            actor:"Dwight Schultz",         img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Barclay%20(TNG).png" },
        { name:"Beverly Crusher",    role:"Chief Medical Officer", actor:"Gates McFadden",      img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Beverly%20Crusher%20(TNG).png" },
        { name:"Miles O'Brien",      role:"Transporter Chief",   actor:"Colm Meaney",            img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Chief%20O'Brien%20(TNG).png" },
        { name:"Guinan",             role:"Ten Forward Host",    actor:"Whoopi Goldberg",        img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Guinan%20(TNG).png" },
        { name:"Tasha Yar",          role:"Security Chief",      actor:"Denise Crosby",          img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Tasha%20Yar%20(TNG).png" },
        { name:"Deanna Troi",        role:"Counselor",           actor:"Marina Sirtis",          img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Troi%20(TNG).png" },
        { name:"Worf",               role:"Tactical/Security",   actor:"Michael Dorn",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Worf%20(TNG).png" }
      ],
      DS9: [
        { name:"Benjamin Sisko",     role:"Commander/Captain",   actor:"Avery Brooks",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Benjamin%20Sisko%20(DS9).png" },
        { name:"Kira Nerys",         role:"First Officer",       actor:"Nana Visitor",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Major%20Kira%20(DS9).png" },
        { name:"Worf",               role:"Strategic Ops",       actor:"Michael Dorn",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Worf%20(DS9).png" },
        { name:"Jadzia Dax",         role:"Science Officer",     actor:"Terry Farrell",          img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Jadzia%20Dax%20(DS9).png" },
        { name:"Dr. Julian Bashir",  role:"Chief Medical Officer", actor:"Alexander Siddig",   img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Doctor%20Bashir%20(DS9).png" },
        { name:"Miles O'Brien",      role:"Chief of Operations", actor:"Colm Meaney",            img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Chief%20O'Brien%20(DS9).png" },
        { name:"Odo",                role:"Security Chief",      actor:"Ren\u00e9 Auberjonois",  img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Odo%20(DS9).png" },
        { name:"Quark",              role:"Bartender",           actor:"Armin Shimerman",        img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Quark%20(DS9).png" }
      ],
      VOY: [
        { name:"Kathryn Janeway",    role:"Captain",             actor:"Kate Mulgrew",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Kathry%20Janeway%20(Voy).png" },
        { name:"Chakotay",           role:"First Officer",       actor:"Robert Beltran",         img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Chakotay%20(Voy).png" },
        { name:"Tuvok",              role:"Security/Tactical",   actor:"Tim Russ",               img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Tuvok%20(Voy).png" },
        { name:"Tom Paris",          role:"Helmsman",            actor:"Robert Duncan McNeill",  img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Tom%20Paris%20(VOY).png" },
        { name:"B'Elanna Torres",    role:"Chief Engineer",      actor:"Roxann Dawson",          img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/B'Elanna%20Torres%20(VOY).png" },
        { name:"Harry Kim",          role:"Operations",          actor:"Garrett Wang",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Harry%20Kim%20(VOY).png" },
        { name:"Seven of Nine",      role:"Astrometrics",        actor:"Jeri Ryan",              img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Seven%20of%20Nine%20(VOY).png" },
        { name:"The Doctor",         role:"Chief Medical Officer", actor:"Robert Picardo",      img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/The%20Doctor%20(VOY).png" },
        { name:"Neelix",             role:"Morale Officer",      actor:"Ethan Phillips",         img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Neelix%20(VOY).png" }
      ],
      ENT: [
        { name:"Jonathan Archer",    role:"Captain",             actor:"Scott Bakula",           img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Jonathan%20Archer%20(Ent).png" },
        { name:"Charles \"Trip\" Tucker III", role:"Chief Engineer", actor:"Connor Trinneer",   img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Trip%20Tucker%20(Ent).png" },
        { name:"T'Pol",             role:"Science Officer",      actor:"Jolene Blalock",         img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/TPol%20(Ent).png" },
        { name:"Malcolm Reed",      role:"Tactical Officer",     actor:"Dominic Keating",        img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Malcolm%20Reed.png" },
        { name:"Travis Mayweather", role:"Helmsman",             actor:"Anthony Montgomery",     img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Travis%20Mayweathere.png" },
        { name:"Hoshi Sato",        role:"Communications Officer", actor:"Linda Park",          img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Hoshi%20Sato.png" },
        { name:"Doctor Phlox",      role:"Chief Medical Officer", actor:"John Billingsley",     img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Doctor%20Phlox.png" }
      ],
DIS: [], PIC: [], GUEST: [
  { name:"Borg Queen", role:"Queen of the Borg Collective", actor:"Susanna Thompson", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Borg%20Queen.png" },
  { name:"Edith Keeler", role:"Social Worker, Mission Director", actor:"Joan Collins", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Edith%20Keeler.png" },
  { name:"Gary Seven", role:"Temporal Agent", actor:"Robert Lansing", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Apollo.png" },
  { name:"Roberta Lincoln", role:"Secretary Turned Field Partner", actor:"Teri Garr", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Apollo.png" },
  { name:"Q", role:"Omnipotent Trickster", actor:"John De Lancie", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Q.png" },
  { name:"Timicin", role:"Kaelon Scientist", actor:"David Ogden Stiers", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Timicin.png" }
], SNW: [
        { name:"Christopher Pike", role:"Captain", actor:"Anson Mount", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Christopher%20Pike.png" },
        { name:"Una Chin Riley", role:"First Officer", actor:"Rebecca Romijn", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Una%20Chin%20Riley.png" },
        { name:"Spock", role:"Science Officer", actor:"Ethan Peck", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Spock%20(SNW).png" },
        { name:"Erica Ortegas", role:"Helm Officer", actor:"Melissa Navia", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Erica%20Ortegas.png" },
        { name:"La'An Noonien-Singh", role:"Security Chief", actor:"Christina Chong", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/La%E2%80%99An%20Noonien-Singh.png" },
        { name:"Nyota Uhura", role:"Communications", actor:"Celia Rose Gooding", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Nyota%20Uhura.png" },
        { name:"Christine Chapel", role:"Nurse", actor:"Jess Bush", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Christine%20Chapel.png" },
        { name:"Doctor M'Benga", role:"Chief Medical Officer", actor:"Babs Olusanmokun", img:"https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Images/Doctor%20M'Benga.png" }
      ]
    };

    // ===== Aliases for bios =====
    const ALIASES = {
      TOS: {
        crew: { "James T. Kirk":"James T Kirk","Leonard (Bones) McCoy":"Doctor McCoy","Nyota Uhura":"Uhura","Hikaru Sulu":"Sulu","Pavel Chekov":"Chekov","Yeoman Janice Rand":"Yeoman Rand","Nurse Christine Chapel":"Nurse Chapel","Montgomery Scott":"Scotty" },
        actor:{ "Majel Barett Roddenberry":"Majel Barett Roddenberry","Majel Barrett":"Majel Barett Roddenberry","Majel-Barett Roddenberry":"Majel Barett Roddenberry" }
      },
      DS9: {
        crew: {"Lt. Commander Worf":"Worf","Elim Garak":"Garak",},
        actor:{}
      }
      ,
      TNG: {
        crew: {
          "William T. Riker":"William Riker",
          "Reginald Barclay":"Barclay",
          "Miles O'Brien":"Miles O'Brien",
          "Lt. Commander Worf":"Worf",
          "Chief O'Brien":"Miles O'Brien"
        },
        actor: {}
      }
    
      
  , ENT: {
      crew: {
        "Doctor Phlox": "Phlox",
        "Dr. Phlox": "Phlox",
        "Dr Phlox": "Phlox",
        "Charles \"Trip\" Tucker III": "Charles \"Trip\" Tucker III",
        "Trip Tucker": "Charles \"Trip\" Tucker III"
      },
      actor: {}
    }

      ,
      SNW: {
        crew: {
          "Una Chin Riley":"Una Chin-Riley",
          "Una":"Una Chin-Riley",
          "Number One":"Una Chin-Riley",
          "Doctor M'Benga":"Dr. Joseph M'Benga",
          "Dr. M'Benga":"Dr. Joseph M'Benga",
          "M'Benga":"Dr. Joseph M'Benga"
        },
        actor: {}
      }
};

    // ===== JSON loaders =====
    async function fetchJSON(url){ const r=await fetch(url,{cache:'no-store'}); if(!r.ok) throw new Error(''+r.status); const d=await r.json(); return (d&&d.bios)?d.bios:d; }
    async function loadTOS(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-TOS.json"); }
    async function loadDS9(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-DS9.json"); }
    async function loadTNG(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-TNG.json"); }
async function loadENT(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-ENT.json"); }
    async function loadSNW(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-SNW.json"); }

async function loadVOY(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-VOY.json"); }
function mapDs9Alias(n){ return n; }
async function loadGUEST(){ return fetchJSON("https://raw.githubusercontent.com/BigBird7827/Bio-Trek/main/Biographies/Bios-Guests.json"); }


    
    
    function resolve(ds, name, which, seriesKey){
      const display = (name||'').trim();

      const seriesAliases = (ALIASES[seriesKey] && ALIASES[seriesKey][which]) || {};
      const aliased = seriesAliases[display] || display;

      // Build robust candidate variants
      const cset = new Set();
      const straight = aliased.replace(/[’`]/g, "'");
      const curly   = straight.replace(/'/g, "’");
      const noHyphen = straight.replace(/-/g, " ");
      const withHyphen = straight.replace(/\s+/g, " ").replace(/\b([A-Za-z])\s*-\s*([A-Za-z])/g, "$1-$2");
      const baseVariants = new Set([straight, curly, noHyphen, withHyphen]);
      baseVariants.forEach(v => {
        cset.add(v);
        cset.add(v.replace(/^Doctor\s+/i, "Dr. "));
        cset.add(v.replace(/^Dr\.\s+/i, "Doctor "));
        cset.add(v.replace(/^Dr\s+/i, "Dr. "));
      });
      const candidates = Array.from(cset);

      const dicts = which==='actor' ? [ds?.Actors, ds?.actors, ds?.actorBios, ds] : [ds?.Crew, ds?.crew, ds?.characters, ds];

      // Exact match pass
      for (const cand of candidates){
        for (const d of dicts){ if (d && d[cand]) return d[cand]; }
      }

      // Normalized match pass
      const norm = (s)=> String(s||'').toLowerCase().normalize('NFKD').replace(/[\u0300-\u036f]/g,'').replace(/['’`\.\-]/g,'').replace(/\s+/g,'').trim();
      for (const d of dicts){
        if (!d) continue;
        const keys = Object.keys(d);
        for (const k of keys){
          const nk = norm(k);
          for (const cand of candidates){
            if (norm(cand) === nk) return d[k];
          }
        }
      }
      return null;
    }

    // ===== Renderers =====
    function setTitles(key){
      if (titleEl)   titleEl.textContent = "Star Trek";
      if (subtitleEl) subtitleEl.textContent =
        key==='TOS' ? "The Original Series" :
        key==='TNG' ? "The Next Generation" :
        key==='DS9' ? "Deep Space Nine" :
        key==='VOY' ? "Voyager" :
        key==='ENT' ? "Enterprise" :
        key==='DIS' ? "Discovery" :
        key==='PIC' ? "Picard" :
        key==='SNW' ? "Strange New Worlds" :
        key==='GUEST' ? "Guest List" : "";
    }
    function showCards(){
      seriesMenu.style.display = "none";
      cardsGrid.style.display  = "flex";
      returnMenu.style.display = "inline-flex";
      document.documentElement.classList.toggle("series-non-tos", subtitleEl.textContent !== "The Original Series");
      window.scrollTo({top:0, behavior:"instant"});
    }
    function clearTopThree(){
      ["1","2","3"].forEach(n => {
        const img = $("#card-"+n+"-img"); const txt = $("#card-"+n+"-text");
        if (img) { img.src = ""; img.removeAttribute("src"); img.alt=""; }
        if (txt) txt.innerHTML = "";
      });
    }
    function setTopThree(people){
      const top = people.slice(0,3);
      top.forEach((p,i)=>{
        const img = $("#card-"+(i+1)+"-img"); const txt = $("#card-"+(i+1)+"-text");
        if (!img || !txt) return;
        if (p && p.img) { img.src = p.img; img.alt = p.name; }
        txt.innerHTML = p ? (`
          <a href="#" class="character-name">${p.name}</a>
          <p class="character-title">${p.role||""}</p>
          <a href="#" class="character-actor">${p.actor||""}</a>
        `) : "";
      });
    }
    function clearExtras(){
      $$(".series-dynamic").forEach(el => el.remove());
    }
    function renderExtras(people, key){
      const host = $(".cards-row");
      people.slice(3).forEach(p => {
        const card = document.createElement("article");
        card.className = `character-card series-dynamic ${key.toLowerCase()}-only`;
        const img = document.createElement("img"); img.alt = p.name; if (p.img) img.src = p.img;
        const text = document.createElement("div"); text.className = "card-text";
        text.innerHTML = `
          <a href="#" class="character-name">${p.name}</a>
          <p class="character-title">${p.role||""}</p>
          <a href="#" class="character-actor">${p.actor||""}</a>`;
        card.appendChild(img); card.appendChild(text); host.appendChild(card);
      });
    }

    function labelToKey(label){
      const l=(label||"").toLowerCase();
      if (l.includes("original")) return "TOS";
      if (l.includes("next generation") || l.includes("tng")) return "TNG";
      if (l.includes("deep space nine") || l.includes("ds9")) return "DS9";
      if (l.includes("voyager") || l.includes("voy")) return "VOY";
      if (l.includes("enterprise") || l.includes("ent")) return "ENT";
      if (l.includes("discovery") || l.includes("dis")) return "DIS";
      if (l.includes("picard") || l.includes("pic")) return "PIC";
      if (l.includes("strange new worlds") || l.includes("snw")) return "SNW";
      if (l.includes("guest")) return "GUEST";
      return "";
    }

    function applySeries(key){

      setTitles(key);
      showCards();
      clearTopThree();
      clearExtras();
      // Toggle visibility of TOS-only extras
      const isTOS = key === "TOS";
      $$(".character-card.tos-only").forEach(c => c.style.display = isTOS ? "flex" : "none");

      const people = SERIES[key] || [];
      setTopThree(people);
      renderExtras(people, key);
      if (key === "SNW") {
        const cards = document.querySelectorAll(".cards-row .character-card");
        cards.forEach(async (card) => {
          const nameEl = card.querySelector(".character-name");
          const imgEl  = card.querySelector("img");
          if (!nameEl || !imgEl) return;
          // Only probe if still showing the fallback placeholder
          const isPlaceholder = (imgEl.src || "").startsWith("data:image/svg+xml");
          if (!isPlaceholder) return;
          const n = nameEl.textContent.trim();
          const found = await findSnwImage(n);
          if (found) { imgEl.src = found; }
        });
      }
    }

    // ===== Bio overlay (non-destructive to cards DOM) =====
    function renderBio(title, sections, imgUrl){
      const blocks = Array.isArray(sections) ? sections : [{header:"Biography", text:"No biography available."}];
      const headerHtml = [
        `<h1 style="font-family:Orbitron,sans-serif;color:white;text-align:center;font-size:1.5rem;">${esc(title)}</h1>`,
        `<div style="height:12px;"></div>`
      ].join("");
      const imageHtml = imgUrl ? [
        `<div style="display:flex;justify-content:flex-end;margin-bottom:0.5rem;">`,
        `<img src="${esc(imgUrl)}" alt="${esc(title)}" style="width:100px;height:150px;object-fit:cover;border-radius:6px;border:1px solid rgba(255,255,255,0.6);box-shadow:0 0 8px rgba(0,0,0,0.8);" />`,
        `</div>`
      ].join("") : "";
      const bodyHtml = blocks.map(s => [
        `<h3 style="color:gold;font-weight:bold;font-family:Orbitron,sans-serif;font-size:calc(1.0rem + 2pt);margin:1.1rem auto 0.35rem;max-width:85%;">${esc(s.header||"")}</h3>`,
        `<p style="color:#e3f1ff;line-height:1.55;font-size:calc(0.95rem + 2pt);max-width:85%;margin:0.35rem auto 0;">${esc(s.text||"")}</p>`
      ].join("")).join("");
      const footerHtml = `<div style="text-align:center;margin-top:2rem;"><button id="returnToCrew" style="font-family:Orbitron,sans-serif;font-size:0.9rem;padding:0.65rem 1.8rem;border-radius:999px;border:1px solid rgba(255,255,255,0.5);background:rgba(4,20,40,0.85);color:#f6e27a;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;">Return to Crew</button></div>`;
      bioOverlay.innerHTML = headerHtml + imageHtml + bodyHtml + footerHtml;
      bioOverlay.style.display = "block";
      cardsGrid.style.display = "none";
      returnMenu.style.display = "inline-flex";
      document.body.classList.add("bio-open");
      window.scrollTo({top:0, behavior:"instant"});
    }
    function hideBio(){
      bioOverlay.style.display = "none";
      bioOverlay.innerHTML = "";
      cardsGrid.style.display = "flex";
      returnMenu.style.display = "inline-flex";
      document.body.classList.remove("bio-open");
      window.scrollTo({top:0, behavior:"instant"});
    }

    // ===== Events =====
    document.addEventListener("click", async (e) => {
      // Menu buttons
      const btn = e.target.closest(".series-btn");
      if (btn && btn.hasAttribute("data-series")) {
        e.preventDefault();
        applySeries(labelToKey(btn.getAttribute("data-series") || btn.textContent));
        return;
      }
      // Return to menu
      if (e.target.closest("#return-menu")) {
        e.preventDefault();
        bioOverlay.style.display = "none";
        document.documentElement.classList.remove("series-non-tos");
        // Reset titles
        titleEl.textContent = "Bio Trek";
        subtitleEl.textContent = "Star Trek Biographies";
        // Show menu, hide grid
        seriesMenu.style.display = "flex";
        cardsGrid.style.display = "none";
        returnMenu.style.display = "none";
        return;
      }
      // Return from bio
      if (e.target && e.target.id === "returnToCrew") {
        e.preventDefault();
        hideBio();
        return;
      }

      // Card links: bios
      const nameLink  = e.target.closest("a.character-name");
      const actorLink = e.target.closest("a.character-actor");
      if (!nameLink && !actorLink) return;
      e.preventDefault();

      const series = (subtitleEl.textContent || "").toLowerCase();
      const isTOS  = series.includes("original");
      const isDS9  = series.includes("deep space nine");
      const isTNG  = series.includes("next generation") || series.includes("tng");
      const isENT  = series.includes("enterprise") || series.includes("ent");
      const isVOY  = series.includes("voyager") || series.includes("voy");
      const isSNW  = series.includes("strange new worlds") || series.includes("snw");
      const isGUEST = series.includes("guest");
      const isOther = !(isTOS || isDS9 || isTNG || isENT || isVOY || isSNW || isGUEST);
      try {
        const which = nameLink ? "crew" : "actor";
        const text  = (nameLink ? nameLink : actorLink).textContent;
        const linkEl = nameLink ? nameLink : actorLink;
        const cardEl = linkEl.closest(".character-card");
        const imgEl = cardEl ? cardEl.querySelector("img") : null;
        const imgUrl = imgEl ? imgEl.src : "";
        if (isTOS) {
          const ds = await loadTOS();
          const sections = resolve(ds, text, which, "TOS") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        } else if (isDS9) {
          const ds = await loadDS9();
          const sections = resolve(ds, text, which, "DS9") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        } else if (isTNG) {
          const ds = await loadTNG();
          const sections = resolve(ds, text, which, "TNG") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        } else if (isENT) {
          const ds = await loadENT();
          const sections = resolve(ds, text, which, "ENT") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        }
        else if (isVOY) {
          const ds = await loadVOY();
          const sections = resolve(ds, text, which, "VOY") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        }
        else if (isSNW) {
          const ds = await loadSNW();
          const sections = resolve(ds, text, which, "SNW") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        } else if (isGUEST) {
          const ds = await loadGUEST();
          const sections = resolve(ds, text, which, "GUEST") || [{header:"Biography", text:"Not found."}];
          renderBio(text, sections, imgUrl);
        } else {
          renderBio(text, [{header:"Biography", text:"This series is not wired to bios yet."}]);
        }
      }
      catch (err) {
        renderBio("Error", [{header:"Biography", text:"Failed to load biography data."}], imgUrl);
      }
    });
  
    // Hardening: if inner spans or nodes are clicked inside the anchors, ensure we still catch the anchor.
    document.addEventListener("click", (e) => {
      const a = e.target.closest && e.target.closest("a");
      if (!a) return;
      if (a.classList && (a.classList.contains("character-name") || a.classList.contains("character-actor"))) {
        // let the main handler process it (already registered above)
      }
    }, true);
  </script>

<script>
// Fallback handler to ensure TNG/ENT (and others) links open a placeholder bio
(function(){
  function $(s, r=document){ return r.querySelector(s); }
  const subtitle = document.querySelector(".subtitle-main");
  const cardsGrid = document.querySelector(".cards-grid");
  const returnMenu = document.getElementById("return-menu");
  const overlay = document.getElementById("bio-overlay");

  function esc(s){ return String(s).replace(/[&<>]/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[m])); }
  function renderPlaceholder(title){
    if (!overlay) return;
    overlay.innerHTML = [
      '<h1 style="font-family:Orbitron,sans-serif;color:white;text-align:center;font-size:1.5rem;">' + esc(title) + '</h1>',
      '<div style="height:18px;"></div>',
      '<h3 style="color:gold;font-weight:bold;margin-top:1.5rem;max-width:85%;margin:1.5rem auto 0;text-align:left;">Biography</h3>',
      '<p style="color:white;line-height:1.6;max-width:85%;margin:0.35rem auto 0;">This series is not wired to bios yet.</p>',
      '<div style="text-align:center;margin-top:2rem;"><button id="returnToCrew" style="padding:0.6rem 1.5rem;border:1px solid gold;border-radius:20px;background:transparent;color:gold;cursor:pointer;">Return to Crew</button></div>'
    ].join("");
    overlay.style.display = "block";
    if (cardsGrid) cardsGrid.style.display = "none";
    if (returnMenu) returnMenu.style.display = "inline-flex";
    window.scrollTo({top:0, behavior:"instant"});
  }

  document.addEventListener("click", function(e){
    const a = e.target.closest && e.target.closest("a.character-name, a.character-actor");
    if (!a) return;
    const sub = (subtitle && subtitle.textContent || '').toLowerCase();
    const wiredTOS = sub.includes('original');
    const wiredDS9 = sub.includes('deep space nine');
    const wiredGUEST = sub.includes('guest');
    if (wiredTOS || wiredDS9 || wiredGUEST) return;
    if (sub.includes('next generation') || sub.includes('tng')) return;
    if (sub.includes('enterprise') || sub.includes('ent')) return;
    if (sub.includes('next generation') || sub.includes('tng')) return; // let the main module handle these
    if (sub.includes('next generation') || sub.includes('tng') ||
        sub.includes('enterprise') || sub.includes('ent') ||
        sub.includes('voyager') || sub.includes('voy') ||
        sub.includes('discovery') || sub.includes('dis') ||
        sub.includes('picard') || sub.includes('pic') ||
        sub.includes('strange new worlds') || sub.includes('snw')) {
      e.preventDefault();
      renderPlaceholder(a.textContent.trim());
    }
  }, true);
})();
</script>

</body>
</html>
